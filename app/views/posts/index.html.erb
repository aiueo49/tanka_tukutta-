<div class="flex justify-center mb-4 sticky top-0 z-50">
  <%= render 'search', q: @q, url: posts_path %>
</div>
<div class="container mx-auto py-12">
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    <% @posts.each do |post| %>
      <div class="border p-4 bg-white bg-opacity-90 rounded flex flex-col items-center">
        <% if post.image_url.present? %>
          <div class="flex-shrink-0 max-w-xs mb-4">
            <%= image_tag post.image_url, class: "rounded-lg shadow-md w-full h-auto" %>
          </div>
        <% end %>
        <div class="flex flex-col flex-grow justify-center items-center space-y-4">
          <div class="flex flex-col flex-grow font-bold text-4xl mb-6 text-center vertical-text">
            <% post.content.split(/\s|ã€€/).each do |line| %>
              <p class=""><%= line %></p>
            <% end %>
          </div>
          <% if post.user.present? %>
            <div class="text-lg text-center vertical-text">
              <p><%= post.user.name %></p>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<style>
  .vertical-text {
    writing-mode: vertical-rl;
    text-orientation: upright;
    white-space: pre-line;
  }
  .vertical-text p {
    margin: 0;
    padding: 0;
  }
</style>
